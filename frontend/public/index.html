<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WorshipFinder</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      .search-section {
        text-align: center;
        padding: 30px 20px;
      }

      .search-section h2 {
        color: #2f4f2f;
        margin-bottom: 10px;
      }

      .search-filters {
        margin-top: 20px;
      }

      select,
      button {
        padding: 10px;
        margin: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
        background: #eaf1eb;
      }

      button {
        background-color: #4d6f4a;
        color: white;
        font-weight: bold;
        cursor: pointer;
      }

      button:hover {
        background-color: #3e5d3b;
      }

      .place-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 20px;
        padding: 20px;
        max-width: 1000px;
        margin: auto;
      }

      .place-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        text-align: center;
        transition: transform 0.2s;
      }

      .place-card:hover {
        transform: translateY(-5px);
      }

      .place-card img {
        width: 100%;
        height: 150px;
        object-fit: cover;
        cursor: pointer;
      }

      .place-title {
        font-weight: bold;
        font-size: 16px;
        margin: 10px 0 5px;
        color: #2f4f2f;
      }

      .detail-btn {
        background-color: #4d6f4a;
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 20px;
        margin-bottom: 15px;
        cursor: pointer;
      }

      .detail-btn:hover {
        background-color: #3c5a39;
      }

      .map-section {
        padding: 20px;
        text-align: center;
      }

      .map-section iframe {
        width: 90%;
        height: 400px;
        border: none;
        border-radius: 10px;
      }

      footer {
        background-color: #4d6f4a;
        color: white;
        text-align: center;
        padding: 15px;
      }
    </style>
  </head>
  <body>
 
    <script>
      window.onload = function () {
        if (localStorage.getItem('isLoggedIn') !== 'true') {
          window.location.href = "index.html";
        }
      };
    </script>
    
    
    <header>
      <div class="header-container">
        <div class="logo">WorshipFinder</div>
        <nav>
          <a href="index.html">Beranda</a>
          <div class="dropdown">
            <a href="#" class="dropdown-toggle">Data</a>
            <div class="dropdown-menu">
              <a href="detail/detail.html">Profil Masjid</a>
              <a href="detail/gereja-katolik.html">Profil Gereja Katolik</a>
              <a href="detail/gereja-protestan.html">Profil Gereja Protestan</a>
              <a href="detail/pura.html">Profil Pura</a>
              <a href="detail/vihara.html">Profil Vihara</a>
              <a href="detail/kelenteng.html">Profil Kelenteng</a>
            </div>
          </div>
          <a href="kontak2.html">Kontak Kami</a>
          <a href="#" id="auth-link">Login</a>
        </nav>
      </div>
    </header>

    <section class="search-section">
      <h2>Temukan Tempat Ibadah di Sekitarmu dengan Mudah</h2>
      <div class="search-filters">
        <select id="rumah-ibadah">
          <option value="">Pilih Rumah Ibadah</option>
        </select>
        <select id="tipologi">
          <option value="">Tipologi</option>
        </select>
        <select id="provinsi">
          <option value="">Pilih Provinsi</option>
        </select>
        <select id="kabupaten">
          <option value="">Pilih Kabupaten</option>
        </select>
        <button id="cari-btn">Cari</button>
      </div>
    </section>

    <section class="place-grid">
      <div class="place-card">
        <a href="./hasilMasjid.html"
          ><img src="assets/masjid.jpg" alt="Masjid"
        /></a>
        <div class="place-title">MASJID</div>
        <button class="detail-btn" >Lihat Detail</button>
      </div>
      <div class="place-card">
        <a href="detail/gereja-katolik.html"
          ><img src="assets/katolik.jpg" alt="Gereja Katolik"
        /></a>
        <div class="place-title">GEREJA KATOLIK</div>
        <button class="detail-btn">Lihat Detail</button>
      </div>
      <div class="place-card">
        <a href="detail/pura.html"><img src="assets/pura.jpg" alt="Pura" /></a>
        <div class="place-title">PURA</div>
        <button class="detail-btn">Lihat Detail</button>
      </div>
      <div class="place-card">
        <a href="detail/vihara.html"
          ><img src="assets/vihara.jpg" alt="Vihara"
        /></a>
        <div class="place-title">VIHARA</div>
        <button class="detail-btn">Lihat Detail</button>
      </div>
      <div class="place-card">
        <a href="detail/gereja-protestan.html"
          ><img src="assets/protestan.jpg" alt="Gereja Protestan"
        /></a>
        <div class="place-title">GEREJA PROTESTAN</div>
        <button class="detail-btn">Lihat Detail</button>
      </div>
      <div class="place-card">
        <a href="detail/kelenteng.html"
          ><img src="assets/kelenteng.jpg" alt="Kelenteng"
        /></a>
        <div class="place-title">KELENTENG</div>
        <button class="detail-btn">Lihat Detail</button>
      </div>
    </section>

    <section class="map-section">
      <h2>Peta Sebaran Tempat Ibadah</h2>
      <iframe
        src="https://www.google.com/maps?q=Indonesia&output=embed"
      ></iframe>
    </section>

    <footer>
      <div class="footer-container">
        <!-- Kiri -->
        <div class="footer-section">
          <div class="footer-logo">
            <img src="image.png" alt="WorshipFinder Logo" />
            <h2>WorshipFinder</h2>
          </div>
          <p>Jalan RS. Fatmawati Raya, Pondok Labu, Cilandak, South Jakarta City,<br>
            Jakarta 12450 Indonesia</p>
        </div>
  
        <!-- Tengah -->
        <div class="footer-section">
          <h4>Sistem Pencari Rumah Ibadah Terdekat</h4>
          <h4>Kontak Kami:</h4>
          <p><span style="margin-right: 10px;">üì±</span> WhatsApp</p>
          <p><span style="margin-right: 10px;">‚úâÔ∏è</span> Email</p>
          <p><span style="margin-right: 10px;">üìû</span> Telepon</p>
        </div>
  
        <!-- Kanan -->
        <div class="footer-section">
          <h4>Kebijakan Privasi</h4>
          <h4>Ikuti WorshipFinder di Media Sosial:</h4>
          <p class="footer-socials">
            <span style="margin-right: 10px;">üì∑</span>
            <span style="margin-right: 10px;">üìò</span>
            <span style="margin-right: 10px;">üê¶</span>
          </p>
        </div>
      </div>
  
      <div class="footer-bottom">
        <div>
          <p style="margin: 0;">¬© 2025 Kelompok 4 - Firda - Farhani - Naura<br>
            Universitas Pembangunan Nasional ‚ÄúVeteran‚Äù Jakarta</p>
        </div>
        <div>
          <button>Butuh Bantuan?</button>
        </div>
      </div>
    </footer>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const rumahIbadahSelect = document.getElementById("rumah-ibadah");
        const tipologiSelect = document.getElementById("tipologi");
        const provinsiSelect = document.getElementById("provinsi");
        const kabupatenSelect = document.getElementById("kabupaten");

        // Ambil data jenis rumah ibadah
        fetch("http://localhost:3000/filter/jenis")
          .then((res) => res.json())
          .then((data) => {
            data.forEach((jenis) => {
              const option = document.createElement("option");
              option.value = jenis;
              option.textContent = jenis;
              rumahIbadahSelect.appendChild(option);
            });
          });

        // Ambil tipologi berdasarkan jenis
        rumahIbadahSelect.addEventListener("change", () => {
          const selectedJenis = rumahIbadahSelect.value;
          tipologiSelect.innerHTML = '<option value="">Tipologi</option>';

          if (selectedJenis) {
            fetch(
              `http://localhost:3000/filter/tipologi?jenis=${encodeURIComponent(
                selectedJenis
              )}`
            )
              .then((res) => res.json())
              .then((data) => {
                data.forEach((tipologi) => {
                  const option = document.createElement("option");
                  option.value = tipologi;
                  option.textContent = tipologi;
                  tipologiSelect.appendChild(option);
                });
              });
          }
        });

        // Ambil provinsi
        fetch("http://localhost:3000/filter/provinsi")
          .then((res) => res.json())
          .then((data) => {
            data.forEach((provinsi) => {
              const option = document.createElement("option");
              option.value = provinsi;
              option.textContent = provinsi;
              provinsiSelect.appendChild(option);
            });
          });

        // Ambil kabupaten berdasarkan provinsi
        provinsiSelect.addEventListener("change", () => {
          const selectedProvinsi = provinsiSelect.value;
          kabupatenSelect.innerHTML =
            '<option value="">Pilih Kabupaten</option>';

          if (selectedProvinsi) {
            fetch(
              `http://localhost:3000/filter/kota?provinsi=${encodeURIComponent(
                selectedProvinsi
              )}`
            )
              .then((res) => res.json())
              .then((data) => {
                data.forEach((kota) => {
                  const option = document.createElement("option");
                  option.value = kota;
                  option.textContent = kota;
                  kabupatenSelect.appendChild(option);
                });
              });
          }
        });
      });
    </script>

  <script src="js/main.js"></script>

  </body>
</html>
